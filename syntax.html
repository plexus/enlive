<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>Selectors syntax</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">enlive</span> <span class="project-version">1.1.6</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1  current"><a href="syntax.html"><div class="inner"><span>Selectors syntax</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>net</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cgrand</span></div></div></li><li class="depth-3 branch"><a href="net.cgrand.enlive-html.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>enlive-html</span></div></a></li><li class="depth-3 branch"><a href="net.cgrand.jsoup.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>jsoup</span></div></a></li><li class="depth-3 branch"><a href="net.cgrand.reload.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>reload</span></div></a></li><li class="depth-3 branch"><a href="net.cgrand.tagsoup.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tagsoup</span></div></a></li><li class="depth-3"><a href="net.cgrand.xml.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>xml</span></div></a></li></ul></div><div class="document" id="content"><div class="doc"><div class="markdown"><h1><a href="#selectors-syntax" name="selectors-syntax"></a>Selectors syntax</h1>
<style type="text/css">
code {font-style: normal; font-weight: bold; color: black; background-color: #eee}
.syntax { color: #666; font-style: italic;}
.syntax dd:before {content: "| "}
.css-equiv {font-size: 60%}
h3 {margin: 0; font-size: 100%;}
pre {margin: 0; margin-left: 1ex; color: #666;}
dt {margin-top: 1ex;}</style>
<p> </p><dl class="syntax"> <dt id="selector"><a href="#selector">selector</a></dt> <dd><code>[</code><a href="#selector-step">selector-step</a> (<code>:&gt;</code>? <a href="#selector-step">selector-step</a>)*<code>]</code></dd> <dd><code>#{</code><a href="#selector">selector</a>*<code>}</code> ; grouping</dd> <dd><code>a-symbol</code> ; must evaluate to a state-machine</dd> <dd><code>(some clojure code)</code> ; must evaluate to a state-machine</dd> <dt id="selector-step"><a href="#selector-step">selector-step</a></dt> <dd><code>:a-keyword</code> ; can be :* :.class :tag :#id or any combination eg :div#foo.bar.baz</dd> <dd><code>#{</code><a href="#selector-step">selector-step</a>*<code>}</code> ; union</dd> <dd><code>[</code><a href="#selector-step">selector-step</a>*<code>]</code> ; intersection</dd> <dd><code>a-symbol</code> ; must evaluate to a state-machine — <a href="#predefined-selector-steps">some are already defined</a></dd> <dd><code>(some clojure code)</code> ; must evaluate to a state-machine — better built using some <a href="#predefined-functions">predefined functions</a>, <a href="#predicate-builders">predicate builders</a> or <a href="#useful-macros">macros</a></dd> </dl><p></p>
<h2 id="predefined-selector-steps">Predefined selector-steps</h2>
<p><a href="http://www.w3.org/TR/2009/WD-css3-selectors-20090310/#root-pseudo"><code>root</code></a>, <a href="http://www.w3.org/TR/2009/WD-css3-selectors-20090310/#first-child-pseudo"><code>first-child</code></a>,<br /><a href="http://www.w3.org/TR/2009/WD-css3-selectors-20090310/#last-child-pseudo"><code>last-child</code></a>,<br /><a href="http://www.w3.org/TR/2009/WD-css3-selectors-20090310/#first-of-type-pseudo"><code>first-of-type</code></a>,<br /><a href="http://www.w3.org/TR/2009/WD-css3-selectors-20090310/#last-of-type-pseudo"><code>last-of-type</code></a>,<br /><a href="http://www.w3.org/TR/2009/WD-css3-selectors-20090310/#only-child-pseudo"><code>only-child</code></a>,<br /><a href="http://www.w3.org/TR/2009/WD-css3-selectors-20090310/#only-of-type-pseudo"><code>only-of-type</code></a>,<br /><code>void</code> (CSS’s <a href="http://www.w3.org/TR/2009/WD-css3-selectors-20090310/#empty-pseudo"><code>:empty</code></a>),<br /><code>odd</code> and <code>even</code>. </p>
<h2 id="predefined-functions">Predefined functions</h2>
<dl>
<dt><code>attr?</code> <a class="css-equiv" href="http://www.w3.org/TR/2009/WD-css3-selectors-20090310/#attribute-representation">CSS</a></dt>
<dd>
<div class="syntax"><code>(attr?</code> attribute-keyword*<code>)</code></div>
<h3>sample usage:</h3>
<pre>(attr? :href) ; *[href]
(attr? :href :title) ; *[href][title]</pre>

</dd><dt><code>attr=</code> <a class="css-equiv" href="http://www.w3.org/TR/2009/WD-css3-selectors-20090310/#attribute-representation">CSS</a></dt>
<dd>
<div class="syntax"><code>(attr=</code> (attribute-keyword value)*<code>)</code></div>
<h3>sample usage:</h3>
<pre>(attr= :href "foo") ; *[href=foo]
(attr= :href "foo" :title "bar") ; *[href=foo][title=bar]</pre>

</dd><dt><code>attr-has</code> <a class="css-equiv" href="http://www.w3.org/TR/2009/WD-css3-selectors-20090310/#attribute-representation">CSS</a></dt>
<dd>
<div class="syntax"><code>(attr-has</code> (attribute-keyword value)*<code>)</code></div>
<h3>sample usage:</h3>
<pre>(attr-has :foo "bar" "baz") ; *[foo~=bar][foo~=baz]</pre>

</dd><dt><code>attr-starts</code> <a class="css-equiv" href="http://www.w3.org/TR/2009/WD-css3-selectors-20090310/#attribute-substrings">CSS</a></dt>
<dd>
<div class="syntax"><code>(attr-starts</code> (attribute-keyword value)*<code>)</code></div>
<h3>sample usage:</h3>
<pre>(attr-starts :href "foo" :title "bar"); *[href^=foo][title^=bar]</pre>   

</dd><dt><code>attr-ends</code> <a class="css-equiv" href="http://www.w3.org/TR/2009/WD-css3-selectors-20090310/#attribute-substrings">CSS</a></dt>
<dd>
<div class="syntax"><code>(attr-ends</code> (attribute-keyword value)*<code>)</code></div>
<h3>sample usage:</h3>
<pre>(attr-ends :href "foo" :title "bar") ; *[href$=foo][title$=bar]</pre>

</dd><dt><code>attr-contains</code> <a class="css-equiv" href="http://www.w3.org/TR/2009/WD-css3-selectors-20090310/#attribute-substrings">CSS</a></dt>
<dd>
<div class="syntax"><code>(attr-contains</code> (attribute-keyword value)*<code>)</code></div>
<h3>sample usage:</h3>
<pre>(attr-contains :href "foo" :title "bar") ; *[href*=foo][title*=bar]</pre>

</dd><dt><code>attr|=</code> <a class="css-equiv" href="http://www.w3.org/TR/2009/WD-css3-selectors-20090310/#attribute-representation">CSS</a></dt>
<dd>
<div class="syntax"><code>(attr|=</code> (attribute-keyword value)*<code>)</code></div>
<h3>sample usage:</h3>
<pre>(attr|= :lang "fr") ; *[lang|=fr]</pre>
  
</dd><dt><code>nth-child</code> <a class="css-equiv" href="http://www.w3.org/TR/2009/WD-css3-selectors-20090310/#nth-child-pseudo">CSS</a></dt>
<dd>
<div class="syntax"><code>(nth-child</code> stride? offset<code>)</code></div>
<h3>sample usage:</h3>
<pre>(nth-child 3) ; *:nth-child(3)
(nth-child 4 2) ; *:nth-child(4n+2)</pre>

</dd><dt><code>nth-last-child</code> <a class="css-equiv" href="http://www.w3.org/TR/2009/WD-css3-selectors-20090310/#nth-last-child-pseudo">CSS</a></dt>
<dd>
<div class="syntax"><code>(nth-last-child</code> stride? offset<code>)</code></div>
<h3>sample usage:</h3>
<pre>(nth-last-child 3) ; *:nth-last-child(3)
(nth-last-child 4 2) ; *:nth-last-child(4n+2)</pre>

</dd><dt><code>nth-of-type</code> <a class="css-equiv" href="http://www.w3.org/TR/2009/WD-css3-selectors-20090310/#nth-of-type-pseudo">CSS</a></dt>
<dd>
<div class="syntax"><code>(nth-of-type</code> stride? offset<code>)</code></div>
<h3>sample usage:</h3>
<pre>(nth-of-type 3) ; *:nth-of-type(3)
(nth-of-type 4 2) ; *:nth-of-type(4n+2)</pre>

</dd><dt><code>nth-last-of-type</code> <a class="css-equiv" href="http://www.w3.org/TR/2009/WD-css3-selectors-20090310/#nth-last-of-type-pseudo">CSS</a></dt>
<dd>
<div class="syntax"><code>(nth-last-of-type</code> stride? offset<code>)</code></div>
<h3>sample usage:</h3>
<pre>(nth-last-of-type 3) ; *:nth-last-of-type(3)
(nth-last-of-type 4 2) ; *:nth-last-of-type(4n+2)</pre>

</dd><dt><code>but</code> <a class="css-equiv" href="http://www.w3.org/TR/2009/WD-css3-selectors-20090310/#negation">CSS</a></dt>
<dd>
<div class="syntax"><code>(but</code> <a href="#selector-step">selector-step</a><code>)</code></div>
<h3>sample usage:</h3>
<pre>(but :a) ; :not(a)</pre>

</dd><dt><code>has</code></dt>
<dd><div class="syntax"><code>(has</code> <a href="#selector">selector</a><code>)</code></div>
<h3>sample usage:</h3>
<pre>(has [:a])</pre>

</dd></dl>
<h2 id="predicate-builders">Predicate builders</h2>
<p>These functions take a predicate and return a state-machine. </p><dl> <dt><code>pred</code> </dt><dd> <div class="syntax"><code>(pred</code> predicate-on-elements<code>)</code></div> <h3>sample usage:</h3> <pre>(pred #(= (:tag %) tag-name))</pre><p></p>
<p></p></dd><dt><code>text-pred</code> </dt><dd> <div class="syntax"><code>(text-pred</code> predicate-on-text-nodes<code>)</code></div> <h3>sample usage:</h3> <pre>(text-pred #(re-matches #“\d+” %))</pre><p></p>
<p></p></dd><dt><code>zip-pred</code> </dt><dd> <div class="syntax"><code>(zip-pred</code> predicate-on-elements-locs<code>)</code></div><p></p>
<p></p></dd><dt><code>sm/pred</code> (where sm aliases net.cgrand.enlive-html.state-machine)<br /></dt><dd> <div class="syntax"><code>(sm/pred</code> predicate-on-locs<code>)</code></div><p></p>
<p></p></dd></dl><p></p>
<h2 id="useful-macros">Useful macros</h2>
<p><code>selector</code> takes a selector and evaluates to a state-machine, <code>selector-step</code> takes a selector-step and evaluates to a state-machine.<br /> They are backed by <code>compile-selector</code> and <code>compile-step</code>. </p></div></div></div></body></html>